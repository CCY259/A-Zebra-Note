\section{Wreath Products}
We will always consider right actions in this section. This is probably influenced by FAR-RIGHT mathematicians.
\subsection{Construction and Basic Properties}
Let $G$ be an arbitrary group and let $H$ be a group acting on a set $\Delta$. Let $G^\Delta$ be the group of all functions from $\Delta$ into $G$ with pointwise multiplication. In other words,  $G^\Delta$ is isomorphic to a direct product of copies of $G$ indexed by $\Delta$. Now we define an action of $H$ on  $G^\Delta$ by 
\begin{equation*}
	f^h(\delta) = f(\delta^{h^{-1}}).
\end{equation*}
\begin{definition}
	The semidirect product $W = G^\Delta \rtimes H$ with respect to the action defined above  is called the \textbf{(complete) wreath product} of $G$ by $H$. This $W$ will be denoted by $G \Wr_{\Delta} H$. We can define the \textbf{restricted wreath product} $G \wr_{\Delta} H$ of $G$ by $H$, by using the same setting, but with $f\in G^{(\Delta)}$, where $G^{(\Delta)}$ is the set of all functions such that $f(y) = e$ for all but finitely many $y\in \Delta$. The wreath product is said to be \textbf{trivial} if either $G$ or $H$ is the trivial group. In $G\Wr_\Delta H$ (resp. $G\wr_\Delta H$), the subgroup $G^\Delta$ (resp. $G^{(\Delta)}$) is called the \textbf{base group}, $G$ is called the \textbf{bottom group} and $H$ is called the \textbf{top group}.
\end{definition}

\begin{remark}
	Let us restrict to the case where $\Delta$ is a finite set. If $\Delta = \{1,\dots,n\}$, then we can think of the base group as $$G^\Delta = \underbrace{G\times \cdots \times G}_{n\text{ times}}.$$
	So the elements of the base group are just an $n$-tuples of elements in $G$. Now the action of $H$ on the base group corresponds to permuting coordinates of elements in $G$ as follows.
	\begin{equation*}
		(g_1,g_2,\dots, g_n)^h = (g_{1^{h^{-1}}},g_{2^{h^{-1}}},\dots, g_{n^{h^{-1}}}).
	\end{equation*}
	Note that it is necessary to introduce $h^{-1}$ rather than $h$ since we are considering right action.
\end{remark}


\begin{definition}
	The \textbf{standard wreath product} $G\Wr H$ (or $G\wr H$) of $G$ by $H$ is the wreath product $G\Wr_H H$ (or $G\wr_H H$) where $G$ and $H$ act on themselves by right regular action.
\end{definition}

\subsection{Imprimitive Action}
\begin{proposition} \label{prop-imprimitive-action-of-WP}
	Let $G$ and $H$ act on $\Omega$ and $\Delta$ respectively. Then $G\Wr_\Delta H$  acts on $\Omega\times \Delta$ via
	\begin{equation*}
		(\omega,\delta)^{(f,h)} = (\omega^{f(\delta)},\delta^h).
	\end{equation*} 
\end{proposition}
\begin{sketch}
	Let $(\omega,\delta)\in \Omega\times \Delta$. 
	Clearly $(\omega,\delta)^{(1,1)} =  (\omega^{1(\delta)},\delta^1) = (\omega^{1},\delta) = (\omega,\delta)$. Let $f_1,f_2\in G^\Delta$ and $h_1,h_2\in H$. Then  
\begin{align*}
	((\omega,\delta)^{(f_1,h_1)})^{(f_2,h_2)} &= (\omega^{f_1(\delta)},\delta^{h_1})^{(f_2,h_2)} 
	\\
	&= ((\omega^{f_1(\delta)})^{f_2(\delta^{h_1})},(\delta^{h_1})^{h_2})
	\\
	&= (\omega^{f_1(\delta)f_2(\delta^{h_1})},\delta^{h_1h_2}),
	\\
	(\omega,\delta)^{(f_1,h_1)(f_2,h_2)} &= (\omega,\delta)^{(f_1f_2^{h_1^{-1}},h_1h_2)}
	\\
	&= (\omega^{(f_1f_2^{h_1^{-1}})(\delta)},\delta^{h_1h_2})
	\\
	&= (\omega^{f_1(\delta)f_2^{h_1^{-1}}(\delta)},\delta^{h_1h_2})
	\\
	&= (\omega^{f_1(\delta)f_2(\delta^{h_1})},\delta^{h_1h_2}).
\end{align*}
So $((\omega,\delta)^{(f_1,h_1)})^{(f_2,h_2)}  = (\omega,\delta)^{(f_1,h_1)(f_2,h_2)}$. This shows that $G\Wr_{\Delta} H$ acts on $\Omega\times \Delta$ with respect to this action.
\end{sketch}
\begin{definition}
	The action defined in Proposition \ref{prop-imprimitive-action-of-WP} is called the \textbf{imprimitive action} of $G\Wr_{\Delta} H$.
\end{definition}

\begin{proposition} \label{prop-imprim-WP}
	Let $G$ and $H$ act on $\Omega$ and $\Delta$ respectively. 
	\begin{enumerate}[(i)]
		\item $G\Wr_\Delta H$ acts transitively on $\Omega\times \Delta$   if and only if both $G$ and $H$ are transitive.
		\item  $G\Wr_\Delta H$ acts faithfully on $\Omega\times \Delta$ if and only if both actions are faithful.
		\item If $|\Omega|,|\Delta|\geq 2$ and $G\Wr_\Delta H$ acts transitively on $\Omega\times \Delta$, then $G\Wr_\Delta H$ is imprimitive on $\Omega\times \Delta$.
		\item In this form the wreath product is associative in the sense that, if $K$ acts on $\Gamma$, then the action of $(G\Wr_\Delta H) \Wr_\Gamma K$ on $\Omega\times \Delta \times \Gamma$  is permutationally isomorphic to the action of $G\Wr_{\Delta\times \Gamma} (H \Wr_\Gamma K)$ on $\Omega\times \Delta \times \Gamma$.
	\end{enumerate}
\end{proposition}

\begin{sketch}
	(i) Suppose that $G\Wr_\Delta H$ is transitive on $\Omega\times \Delta$. Then for any $\omega_1,\omega_2\in \Omega$ and $\delta_1,\delta_2\in \Delta$, consider the pairs $(\omega_1,\delta_1),(\omega_2,\delta_2) \in \Omega\times\Delta$. 
	
	Conversely, let $(\omega_1,\delta_1),(\omega_2,\delta_2) \in \Omega\times\Delta$. Then we take a function $f:\Delta \to G$ such that $f(\delta_1)=g$ where $\omega_1^g =\omega_2$.
	
	(ii) Suppose that the action of $G\Wr_\Delta H$ on $\Omega\times \Delta$ is faithful. Let $g\in G$ be such that $\omega^g = \omega$ for all $\omega\in \Omega$. There is a function $f:\Delta\to G$ such that $f(\delta) = g$ for all $\delta\in \Delta$. So $\omega^{f(\delta)} = \omega$ for all $\delta\in \Delta$. This implies $g = f(\delta) = 1$. We use a similar argument to show that $H$ is faithful on $\Delta$.
	
	Conversely, let $(f,h)\in G\Wr_{\Delta} H$ be such that  $(\omega,\delta)^{(f,h)} = (\omega,\delta)$ for all $(\omega,\delta)\in\Omega\times \Delta$. In particular, $\delta^h = \delta$ for all $\delta\in \Delta$. Since the action of $H$ on $\Delta$ is faithful, we get $h = 1$. Next, note that $\omega^{f(\delta)} = \omega$ for all $\omega\in\Omega$, $\delta\in\Delta$. Since the action of $G$ on $\Omega$ is faithful, we get $f(\delta) = 1$ for all $\delta\in\Delta$.
	
	(iii) Let $\delta\in \Delta$ and consider the subset $\Omega\times \{\delta\}$ of $\Omega\times \Delta$. We show that it is a nontrivial block. Let $(f,h)\in G\Wr_{\Delta} H$ be  such that $(\Omega\times \{\delta\})^{(f,h)} \cap (\Omega\times \{\delta\}) \neq \emptyset$. Then $\delta^h = \delta$ and $\Omega^{f(\delta)} \cap \Omega \neq \emptyset$. Since $\Omega$ itself is a block, it follows that $\Omega^{f(\delta)} =\Omega$. Hence $(\Omega\times \{\delta\})^{(f,h)} = \Omega\times \{\delta\}$.
	
	(iv) Let 
\end{sketch}

\begin{remark}\begin{enumerate}[(i)]
		\item 	Proposition \ref{prop-imprim-WP}.(iii) is the reason why we call the action imprimitive.
		\item The standard wreath product is not associative in general. Let $H$, $K$ and $L$ be three groups. Then
\begin{gather*}
	|H \Wr K| = |H|^{|K|} |K| = |H|^{|K|} |K|,
	\\
	|(H \Wr K) \Wr L| = |H \Wr K|^{|L|} |L| = |H|^{|K||L|} |K|^{|L|} |L|.
\end{gather*}  But $|K \Wr L| = |K|^{|L|} |L|$ and so $$|H \Wr (K \Wr L)| = |H|^{|K \Wr L|} |K \Wr L| = |H|^{|K|^{|L|} |L|} |K|^{|L|} |L|.$$
 Thus $(H \Wr K) \Wr L$ does not necessarily have the same order  as $H \Wr (K \Wr L)$. 
	\end{enumerate}

\end{remark}

\begin{theorem}[Embedding Theorem] \label{thm-embedding}
	Let $G$ act transitively on $\Omega$. Let $\mathcal{B} = \{\Omega_\lambda\mid \lambda\in\Lambda\}$ be a system of imprimitivity of $\Omega$. Fix a block $\Omega_\iota \in\mathcal{B}$ and let $\phi:G\rightarrow \Sym\mathcal{B}$ be the induced representation of $G$ on $\mathcal{B}$. Then $(G,\Omega)$ is permutationally embedded into $(G_{\Omega_\iota} \Wr_\mathcal{B} \phi(G), \Omega_\iota\times \mathcal{B})$.
\end{theorem}
\begin{sketch}
	Since $G$ acts transitively on $\mathcal{B}$, for each $\Omega_\lambda\in \mathcal{B}$ we choose an element $g_\lambda\in G$ such that $\Omega_\lambda = \Omega_\iota^{g_{\lambda}}$. Define $\vartheta: \Omega \to \Omega_\iota \times \mathcal{B}$ by
	\begin{equation*}
		\vartheta(\omega) = (\omega^{g_{\lambda}^{-1}},\Omega_\lambda) 
	\end{equation*}
	where $\omega \in \Omega_\lambda$. Clearly $\vartheta$ is well-defined. We claim that $\vartheta$ is a bijection. Suppose that $\vartheta(\omega_1) = \vartheta(\omega_2)$ for some $\omega_1,\omega_2\in\Omega$. Then $\omega_1,\omega_2\in \Omega_\lambda$ for some $\Omega_\lambda\in\mathcal{B}$ and $\omega_1^{g_{\lambda}^{-1}}=\omega_2^{g_{\lambda}^{-1}}$. Thus we get $\omega_1 = \omega_2$ and $\vartheta$ is injective. Let $(\omega,\Omega_\lambda)\in \Omega_\iota \times \mathcal{B}$. Take the unique element $\delta\in \Omega$ such that $\delta = \omega^{g_\lambda}$. Then, by definition, $\vartheta$ is surjective.
	
	Let $\psi:G \to G_{\Omega_\iota} \Wr_{\mathcal{B}} \phi(G)$ be defined by
	\begin{equation*}
		\psi(x) = (f_x,\phi(x))
	\end{equation*}
	where $f_x$ is a function from $\mathcal{B}$ into $G_{\Omega_\iota}$ with $f_x(\Omega_\lambda) = g_{\lambda}xg_{\lambda^x}^{-1}$ where $g_{\lambda^x}$ is the element corresponding to $\Omega_\lambda^x$ It can be checked that $\Omega_\iota^{g_\lambda xg_{\lambda^x}^{-1}} = \Omega_\iota$ and so $g_\lambda xg_{\lambda^x}^{-1}\in G_{\Omega_\iota}$. We claim that $\psi$ is a monomorphism. Clearly $\psi$ is injective, because $x\in \ker \psi$ implies that  $x =g_\iota^{-1} 1 g_{\iota^x} = g_\iota^{-1} 1 g_{\iota} =1$. Now we show that $\psi$ is a homomorphism. Let $x,y\in G$. Then $
		\psi(x)\psi(y) = (f_x,x)(f_y,y) = (f_xf_y^{x^{-1}},xy)$. Note that for all $\Omega_\lambda \in \mathcal{B}$, 
\begin{align*}
	(f_xf_y^{x^{-1}})(\Omega_\lambda) &= f_x(\Omega_\lambda)f_y^{x^{-1}}(\Omega_\lambda) 
	\\
	&= f_x(\Omega_\lambda)f_y(\Omega_\lambda^x) 
	\\
	&= g_{\lambda}xg_{\lambda^x}^{-1}g_{\lambda^x}yg_{(\lambda^{x})^y}^{-1} 
	\\
	&= g_\lambda xy g_{\lambda^{xy}}^{-1} 
	\\
	&= f_{xy}(\Omega_\lambda).
\end{align*}
So $\psi(x)\psi(y) = \psi(xy)$. Next, we want to prove
\begin{equation*}
	\vartheta(\omega^x) = \vartheta(\omega)^{\psi(x)}
\end{equation*}
for all $\omega\in\Omega$ and $x\in G$.
\begin{align*}
	\vartheta(\omega)^{\psi(x)} &= (\omega^{g_\lambda^{-1}},\Omega_\lambda)^{(f_x,x)} 
	\\
	&= ((\omega^{g_\lambda^{-1}})^{f_x(\Omega_\lambda)},\Omega_\lambda^x) 
	\\
	&= ((\omega^{g_\lambda^{-1}})^{g_\lambda x g_{\lambda^x}^{-1}},\Omega_\lambda^x) 
	\\
	&= ((\omega^x)^{g_{\lambda^x}^{-1}},\Omega_\lambda^x) 
	\\
	&= \vartheta(\omega^x).
\end{align*}
This shows that $(\vartheta,\psi)$ is a permutational embedding.
\end{sketch}

\begin{corollary}[Kaluzhnin–Krasner Embedding Theorem]
	Let $G$ be a group and let $N$ be a subgroup of $G$. Let $H$ be the permutation group induced by $G$ on the set of right cosets. Then $G$ is embedded into $N \Wr H$. If $N$ is normal in $G$, then $G$ is embedded into $N\Wr G/N$.
\end{corollary}
\begin{sketch}
	Apply Theorem \ref{thm-embedding} using the right regular action. 
\end{sketch}


\subsection{Product Action}
\begin{proposition} \label{prop-product-action-of-WP}
	Let $G$ and $H$ act on $\Omega$ and $\Delta$ respectively. Then $G\Wr_\Delta H$ (resp. $G\wr_\Delta H$) acts on $\Omega^\Delta$ via
	\begin{equation*}
	\varphi^{(f,h)}(\delta) = \varphi(\delta^{h^{-1}})^{f(\delta^{h^{-1}})}.
	\end{equation*} 
\end{proposition}
\begin{sketch}
	Let $\varphi\in \Omega^\Delta$ and let $\delta\in \Delta$. 
	Clearly $\varphi^{(1,1)}(\delta) = \varphi(\delta^{1})^{1(\delta^{1})} = \varphi(\delta)^{1} = \varphi(\delta)$. Let $f_1,f_2\in G^\Delta$ and $h_1,h_2\in H$. Then  
	\begin{align*}
		(\varphi^{(f_1,h_1)})^{(f_2,h_2)}(\delta) &= \varphi^{(f_1,h_1)}(\delta^{h_2^{-1}})^{f_2(\delta^{h_2^{-1}})}
		\\
		&= (\varphi((\delta^{h_2^{-1}})^{h_1^{-1}})^{f_1((\delta^{h_2^{-1}})^{h_1^{-1}})})^{f_2(\delta^{h_2^{-1}})}
		\\
		&= (\varphi(\delta^{(h_1h_2)^{-1}})^{f_1(\delta^{(h_1h_2)^{-1}})})^{f_2(\delta^{h_2^{-1}})}
		\\
		&= \varphi(\delta^{(h_1h_2)^{-1}})^{f_1(\delta^{(h_1h_2)^{-1}})f_2(\delta^{h_2^{-1}})},
		\\
\varphi^{(f_1,h_1)(f_2,h_2)}(\delta)&= \varphi^{(f_1f_2^{h_1^{-1}},h_1h_2)}(\delta)
\\
&= \varphi(\delta^{(h_1h_2)^{-1}})^{(f_1f_2^{h_1^{-1}})(\delta^{(h_1h_2)^{-1}})}
\\
&= \varphi(\delta^{(h_1h_2)^{-1}})^{f_1(\delta^{(h_1h_2)^{-1}})f_2^{h_1^{-1}}(\delta^{(h_1h_2)^{-1}})}
\\
&= \varphi(\delta^{(h_1h_2)^{-1}})^{f_1(\delta^{(h_1h_2)^{-1}})f_2((\delta^{(h_1h_2)^{-1}})^{h_1})}
\\
&= \varphi(\delta^{(h_1h_2)^{-1}})^{f_1(\delta^{(h_1h_2)^{-1}})f_2((\delta^{h_2^{-1}})}.
\end{align*}
	So $(\varphi^{(f_1,h_1)})^{(f_2,h_2)}  =\varphi^{(f_1,h_1)(f_2,h_2)}$. This shows that $G\Wr_{\Delta} H$ acts on $\Omega^\Delta$ with respect to this action.
\end{sketch}
\begin{definition}
	The action defined in Proposition \ref{prop-product-action-of-WP} is called the \textbf{product action} of $G\Wr_{\Delta} H$.
\end{definition}
\begin{proposition}
	Let $G$ and $H$ act on $\Omega$ and $\Delta$ respectively. Then $G\Wr_\Delta H$ acts faithfully on $\Omega^\Delta$ if and only if both actions are faithful. 
\end{proposition}
\begin{sketch}
	
\end{sketch}
\begin{proposition}
	Let $G$ and $H$ be nontrivial groups acting on $\Omega$ and $\Delta$ respectively. Then $G\Wr_{\Delta} H$ is primitive on $\Omega^\Delta$ if and only if the following hold:
\begin{enumerate}[(i)]
	\item $H$ is primitive and nonregular on $\Delta$;
	\item $\Omega$ is finite and $G$ is transitive on $\Omega$.
\end{enumerate}
\end{proposition}
\begin{sketch}
	
\end{sketch}

\paragraph{Main References.} \cite{Meldrum1995,Praeger2018,Dixon1996}
